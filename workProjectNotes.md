# 华为

## 网课神器

### 流程

1. sa通过五元组识别目标流量，将结果生成一个文件。文件包含流量类型 阀值 当前值。
2. 通过fa模块，使用观察者模式定时读取该文件。观察各个业务的开启与结束。其他业务模块通过注册所需模块，建立观察业务->注册模块的哈希表，当业务开启、结束时通知各个模块。如网课模块，通过开始、结束时间，生成网课记录。建立两层链表网课类型->记录，展示于前段
3. 通过wmm给定流量指定优先级
4. 通过atf给设备分配更多时间片
5. 从vipkid服务器获取服务器链表，探测链表中各个服务器。将探测结果返回给vipkid服务器。



## 迅游加速

### 流程：

1. 迅游内嵌h5页面在华为智慧生活app中
2. 用户在app中选择设备进行加速，设备列表来自路由器
3. 路由器内嵌迅游java包，对附近服务器进行探测，获取延时最低的服务器信息，建立lt2p隧道，并且将对应游戏规则列表下发，根据对应列表的规则，建立iptables规则，将需要进入vpn的数据打上mark

## 带宽压制

### 流程：

1. 通过sa识别大流量业务
2. https回包时随机丢包（根据情况增减），使下载流量回归至预期最大流量的百分之70